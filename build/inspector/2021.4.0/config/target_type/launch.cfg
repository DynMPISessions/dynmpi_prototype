<?xml version="1.0" encoding="UTF-8"?>
<!--

 Copyright Â© 2009-2013 Intel Corporation. All rights reserved.

 The information contained herein is the exclusive property of
 Intel Corporation and may not be disclosed, examined, or reproduced in
 whole or in part without explicit written authorization from the Company.

-->
<bag
  xmlns:boolean="http://www.w3.org/2001/XMLSchema#boolean"
  xmlns:int="http://www.w3.org/2001/XMLSchema#int"
  xmlns:double="http://www.w3.org/2001/XMLSchema#double"
  >

  <internal>
    <name>%Launch</name>
    <shortName>%LaunchShortName</shortName>
    <description>%AppWorkloadDescription</description>
    <alias>launch</alias>
    <property name="helpId"></property>
  </internal>

  <prerequisites/>

  <guiLayout
    xsl:version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:exsl="http://exslt.org/common"
    exsl:keep_exsl_namespace=""
    >
    <projectPropertiesPage>
      <panel type="applicationToLaunchPanel"/>
      <panel type="environmentVariablesPanel" boolean:bottomAdjusted="true"/>
      <xsl:if test="exsl:ctx('hostOS') = 'Windows'">
        <panel type="inheritableKnobsPanel" boolean:bottomAdjusted="true"/>
      </xsl:if>
      <panel type="resultDirectoryPanel" boolean:bottomAdjusted="true"/>
      <panel type="nonInheritableKnobsPanel" boolean:advanced="true"/>
    </projectPropertiesPage>
  </guiLayout>

  <workload type="wtApplication"/>

  <knobs
    xsl:version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:exsl="http://exslt.org/common"
    exsl:keep_exsl_namespace=""
    syntax="norules">>

    <!-- The following are knobs which will be shown on analysis target page
          and which values are stored in the project properties (analysis target) storage -->

    <!-- TODO: there should be a way to express ordering with default knobs which are not
          declared here but will be displayed on the target page -->

    <enumKnob id="offload_target" displayName="knob.offload_target.name" cliName="offload-target">
      <description>knob.offload_target.description</description>
      <values>
        <value displayName="knob.offload_target.default">default</value>
        <value displayName="knob.offload_target.cpu">cpu</value>
        <defaultValue>default</defaultValue>
      </values>
    </enumKnob>

    <enumKnob id="suppressions" cliName="suppressions" displayName="knob.suppressions.name">
      <xsl:if test="exsl:ctx('CLIENT_ID') = 'CLI'">
        <xsl:attribute name="boolean:visible">false</xsl:attribute>
      </xsl:if>
      <description>knob.suppressions.description</description>
      <values>
        <value displayName="knob.suppressions.none">none</value>
        <value displayName="knob.suppressions.delete">delete</value>
        <defaultValue>delete</defaultValue>
      </values>
      <knobProperty name="style">radio_buttons</knobProperty>
    </enumKnob>

    <listKnob id="suppression_file" displayName="suppression_file" cliName="suppression-file" boolean:visible="false">
      <xsl:if test="exsl:ctx('CLIENT_ID') = 'CLI'">
        <xsl:attribute name="boolean:visible">true</xsl:attribute>
      </xsl:if>
      <description>knob.suppression_file.description</description>
    </listKnob>

    <stringKnob id="process_for_analysis" displayName="knob.process_for_analysis.name" cliName="executable-of-interest">
      <description>knob.process_for_analysis.description</description>
      <value></value>
    </stringKnob>

    <booleanKnob id="heartbeat" displayName="knob.heartbeat.name">
      <xsl:if test="exsl:ctx('CLIENT_ID') = 'CLI'">
        <xsl:attribute name="boolean:visible">false</xsl:attribute>
      </xsl:if>
      <description>knob.heartbeat.description</description>
      <xsl:choose>
        <xsl:when test="exsl:ctx('CLIENT_ID') = 'CLI'">
          <boolean:defaultValue>false</boolean:defaultValue>
        </xsl:when>
        <xsl:otherwise>
          <boolean:defaultValue>true</boolean:defaultValue>
        </xsl:otherwise>
      </xsl:choose>
    </booleanKnob>

    <enumKnob id="modules_switch" displayName="knob.modules_switch.name" cliName="module-filter-mode">
      <description>knob.modules_switch.description</description>
      <values>
        <value cliName="include">knob.modules_switch.include</value>
        <value cliName="exclude">knob.modules_switch.exclude</value>
        <defaultValue>knob.modules_switch.include</defaultValue>
      </values>
      <knobProperty name="style">radio_buttons</knobProperty>
    </enumKnob>

    <listKnob id="modules" displayName="" cliName="module-filter">
      <description>knob.exclude_modules.description</description>
    </listKnob>

    <enumKnob id="appdebug" boolean:visible="false">
      <xsl:if test="(exsl:ctx('CLIENT_ID') = 'CLI') and not (exsl:ctx('hostOS') = 'Windows')">
        <xsl:attribute name="boolean:visible">true</xsl:attribute>
      </xsl:if>
      <description>knob.appdebug.description</description>
      <values>
        <value>off</value>
        <value>on-start</value>
        <value>on-error</value>
        <value>delay-analysis</value>
        <defaultValue>off</defaultValue>
      </values>
    </enumKnob>

    <stringKnob id="debug_this_problem" boolean:visible="false">
      <value></value>
    </stringKnob>

    <enumKnob id="debug_using" boolean:visible="false">
      <description>knob.debug_using.description</description>
      <values>
        <value>gdb</value>
        <value>idb</value>
        <value>idbc</value>
        <value>none</value>
        <value>custom</value>
        <defaultValue>gdb</defaultValue>
      </values>
    </enumKnob>

    <stringKnob id="custom_debugger" boolean:visible="false">
      <value></value>
    </stringKnob>


    <booleanKnob id="traceMpi" displayName="%TraceMpi" cliName="trace-mpi" boolean:visible="false">
      <xsl:if test="exsl:ctx('hostOS', '')='Linux'">
        <xsl:attribute name="boolean:visible">true</xsl:attribute>
      </xsl:if>
      <description>%TraceMpikDescription</description>
      <boolean:defaultValue>false</boolean:defaultValue>
    </booleanKnob>


  </knobs>
</bag>
